static final ObjectMapper MAPPER = new ObjectMapper()
    .activateDefaultTyping(
        BasicPolymorphicTypeValidator.builder().allowIfBaseType(Filter.class).build(),
        ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE,
        JsonTypeInfo.As.PROPERTY
    );


static {
    SimpleModule module = new SimpleModule();
    module.registerSubtypes(
        SimpleFilter.class,
        CompositeFilter.class,
        StringFilter.class
    );
    MAPPER.registerModule(module);
}